(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{22:function(t,e,n){},32:function(t,e,n){"use strict";n.r(e);var i=n(0),r=n.n(i),c=n(8),o=n.n(c),a=(n(22),n(1));var l,d,s,u=function(){return Object(a.jsxs)("header",{children:[Object(a.jsx)("h1",{children:"Rounds"}),Object(a.jsx)("hr",{})]})},f=n(3),b=n(17),m=n(4),p=n(2),g=n(5),j=Object(g.b)({name:"grid",initialState:{selectedCells:[],recentlySelected:[],deselectMode:!1,modalVisible:!1,modalOffset:[0,0]},reducers:{updateSelectedCells:function(t,e){t.selectedCells=e.payload;var n=e.payload.sort((function(t,e){return e.left-t.left}));n.length&&(t.modalOffset=[n[0].top,n[0].left])},shiftToRecent:function(t){t.recentlySelected=t.selectedCells,t.selectedCells=[]},updateRecentlySelected:function(t,e){t.recentlySelected=e.payload},toggleDeselectMode:function(t,e){t.deselectMode=e.payload},toggleModal:function(t,e){t.modalVisible=e.payload},updateModalOffset:function(t,e){t.modalOffset=e.payload}}}),h=j.actions,x=h.updateSelectedCells,O=h.shiftToRecent,v=h.updateRecentlySelected,y=h.toggleDeselectMode,w=h.toggleModal,S=(h.updateModalOffset,j.reducer),k=Object(g.b)({name:"units",initialState:[{id:1,name:"Unit 01",location:1,data:{2200:{value:"S",user:"gavinasay",inputTime:""}}},{id:2,name:"Unit 02",location:2,data:{}}],reducers:{updateLocation:function(t,e){t.find((function(t){return t.id===e.payload.id})).location=e.payload.location},updateData:function(t,e){Object.entries(e.payload).forEach((function(e){var n=t.find((function(t){return t.name.replace(" ","")===e[0]}));console.log(n),n.data=Object.assign(n.data,e[1])}))}}}),N=k.actions,C=(N.updateLocation,N.updateData),T=k.reducer,M=n(7),H=n.n(M);function D(t){switch(t.value){case"S":return"lightskyblue";case"A":return"yellow";case"R":return"lightgreen";case"SN":case"ST":case"SW":return"rgb(0, 230, 230)";case"NM":return"white";case"GT":return"beige";case"B":case"ES":return"white";case"D":return"red";case"M":return"lightgray";case"I":return"rgb(173, 230, 61)";case"V":case"H":case"AW":case"DT":default:return"white"}}var E="";var z=m.a.div(l||(l=Object(f.a)(["\n\t/* display: ","; */\n\twidth: max-content;\n\tposition: absolute;\n\tbox-sizing: border-box;\n\t","\n\n\t.close {\n\t\ttext-align: center;\n\t\tfont-size: 1.2rem;\n\t\tbackground-color: #777777;\n\t\tborder-radius: 10px 10px 0 0;\n\t\tcolor: white;\n\t\tpadding: 10px 10px 0 10px;\n\t\twidth: min-content;\n\t\theight: min-content;\n\t\tborder: 0;\n\t\tcursor: pointer;\n\t}\n"])),(function(t){return t.modalVisible?"block":"none"}),(function(t){var e=t.modalOffset;return"top: ".concat(e[0],"px;\n\t\tleft: ").concat(e[1],"px;")})),L=m.a.div(d||(d=Object(f.a)(["\n\tbackground-color: #777777;\n\tborder-radius: 0 10px 10px 10px;\n\tcolor: white;\n\tpadding: 15px;\n\n\t.modal-body {\n\t\tdisplay: grid;\n\t\tgrid-template-columns: 35px 35px;\n\t\tgrid-auto-rows: 35px;\n\t}\n"]))),R=m.a.button(s||(s=Object(f.a)(["\n\tfont-size: 16px;\n\tfont-weight: bold;\n\tbackground-color: #282828;\n\tborder: 0.5px solid black;\n\theight: 100%;\n\twidth: 100%;\n\ttext-align: center;\n\toutline: none;\n\tbox-sizing: border-box;\n\tcursor: pointer;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tborder-radius: 5px;\n\tcolor: ",";\n"])),(function(t){return D(t)}));var U,A,B,V=function(){var t=Object(p.c)((function(t){return t.grid.modalVisible})),e=Object(p.c)((function(t){return t.grid.modalOffset})),n=Object(p.c)((function(t){return t.grid.selectedCells})),r=Object(p.c)((function(t){return t.grid.recentlySelected})),c=/^[ABDHIMORSV]{1}$|^SN$|^ST$|^SW$|^NM$|^GT$|^AW$|^ES$/,o=Object(p.b)();function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.target.textContent;if(console.log(t),window.modalHide&&window.clearTimeout(window.modalHide),e.match(c)){if(n.length){var i=n.reduce((function(t,n){return t[n.unitName]||(t[n.unitName]={}),t[n.unitName][n.timestamp]={value:e,user:"gavinasay",inputTime:H()().format("HH:mm:ss.SSS")},t}),{});o(C(i)),o(O())}else{var a=r.reduce((function(t,n){return t[n.unitName]||(t[n.unitName]={}),t[n.unitName][n.timestamp]={value:e,user:"gavinasay",inputTime:H()().format("HH:mm:ss.SSS")},t}),{});o(C(a))}window.modalHide=setTimeout((function(){o(v([])),o(w(!1))}),5e3)}}return function(t,e,n){var r=Object(i.useRef)(n);Object(i.useEffect)((function(){r.current=n}),[n]),Object(i.useEffect)((function(){function i(i){e&&(i.metaKey||i.ctrlKey||("Backspace"!==i.key&&"Delete"!==i.key||(window.clearTimeout(window.modalHide),n(i,i.key)),0===E.length&&t.test(i.key.toUpperCase())||1===E.length&&t.test(E+i.key.toUpperCase())?E+=i.key.toUpperCase():1!==E.length||t.test(E+i.key.toUpperCase())?2===E.length&&t.test(i.key.toUpperCase())&&(E="",E+=i.key.toUpperCase()):E=i.key.toUpperCase(),window.clearTimeout(window.modalHide),n(i,E)))}return document.addEventListener("keydown",i),function(){return document.removeEventListener("keydown",i)}}))}(c,t,l),Object(a.jsxs)(z,{modalOffset:e,modalVisible:t,children:[Object(a.jsx)("button",{className:"close",onClick:function(){o(w(!1)),o(x([]))},children:"X"}),Object(a.jsxs)(L,{children:[Object(a.jsx)("div",{className:"modal-info"}),Object(a.jsxs)("div",{className:"modal-body",onClick:l,children:[Object(a.jsx)(R,{value:"S",children:"S"}),Object(a.jsx)(R,{value:"A",children:"A"}),Object(a.jsx)(R,{value:"R",children:"R"}),Object(a.jsx)(R,{value:"B",children:"B"}),Object(a.jsx)(R,{value:"SN",children:"SN"}),Object(a.jsx)(R,{value:"ST",children:"ST"}),Object(a.jsx)(R,{value:"GT",children:"GT"}),Object(a.jsx)(R,{value:"NM",children:"NM"}),Object(a.jsx)(R,{value:"SW",children:"SW"}),Object(a.jsx)(R,{value:"D",children:"D"}),Object(a.jsx)(R,{value:"M",children:"M"}),Object(a.jsx)(R,{value:"I",children:"I"})]})]})]})},$=n(16),W=n.n($);H.a.extend(W.a);var I=m.a.div(U||(U=Object(f.a)(["\n\tbackground-color: lightgray;\n\tborder: 0.5px solid black;\n\twriting-mode: vertical-lr;\n\ttext-align: center;\n\tfont-size: 1.5em;\n\theight: 100%;\n\tbox-sizing: border-box;\n"]))),F=m.a.section(A||(A=Object(f.a)(["\n\tdisplay: grid;\n\tgrid-column-start: 3;\n\tgrid-column-end: -1;\n\tgrid-row-start: 1;\n\tgrid-row-end: -1;\n\toverflow: scroll;\n\tborder: none;\n\tjustify-content: left;\n\tposition: relative;\n\t","\n\tgrid-template-rows: 100px repeat(10, 35px);\n"])),(function(t){var e=t.checks;return"grid-template-columns: repeat(".concat(e,", 35px);")})),G=m.a.div(B||(B=Object(f.a)(["\n\ttext-align: center;\n\theight: 100%;\n\twidth: 100%;\n\tfont-size: 16px;\n\tfont-weight: bold;\n\tbackground-color: #282828;\n\tborder: 0.5px solid black;\n\tbox-sizing: border-box;\n\tcursor: pointer;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tborder-radius: 5px;\n\tcolor: ",";\n\n\t&:hover {\n\t\tborder: white 2px dotted;\n\t}\n\n\t&.selected {\n\t\tborder: yellow 2px dashed;\n\t}\n\n\t&.selected:hover {\n\t\tborder: rgb(245, 199, 26) 1px dashed;\n\t}\n"])),(function(t){return D(t)}));var J=function(){for(var t=Object(p.c)((function(t){return t.config.shiftStart})),e=Object(p.c)((function(t){return t.config.shiftEnd})),n=Object(p.c)((function(t){return t.units})),i=Object(p.c)((function(t){return t.grid.modalVisible})),r=Object(p.c)((function(t){return t.grid.selectedCells})),c=Object(p.c)((function(t){return t.grid.recentlySelected})),o=Object(p.b)(),l=[],d=0;l.push(H()(t,"HHmm").add(15*d,"minute").format("HHmm")),l[l.length-1]!==e;)d++;function s(t){if(t.preventDefault(),1===t.buttons&&t.target.classList.contains("grid-item")){c.length&&(window.clearTimeout(window.modalHide),o(v([])));var e=t.target.dataset,n=e.unitName,i=e.timestamp;if(r.find((function(t){return t.unitName===n&&t.timestamp===i})))o(y(!0)),o(x(r.filter((function(t){return t!==t.unitName!==n&&t.timestamp!==i}))));else{o(y(!1));var a=t.target.getBoundingClientRect(),l=window.innerWidth-a.right<350?t.target.offsetLeft-165:t.target.offsetLeft+110,d=t.target.offsetTop-50;o(x([].concat(Object(b.a)(r),[{unitName:n,timestamp:i,left:l,top:d}])))}}}return Object(a.jsxs)(F,{checks:l.length,onMouseDown:function(t){t.preventDefault(),t.target.classList.contains("selected")&&o(y(!0)),s(t)},onMouseOver:s,onMouseUp:function(){i||(o(y(!1)),o(w(!0)),r.length||c.length||o(w(!1)))},children:[i&&Object(a.jsx)(V,{}),l.map((function(t){return Object(a.jsx)(I,{children:t},t)})),n.map((function(t){for(var e=t.name,n=t.data,i=[],o=function(t){var o,d,s=e.replace(" ","");i.push(Object(a.jsx)(G,{className:"grid-item ".concat((r.find((function(e){return e.unitName===s&&e.timestamp===l[t]}))||c.find((function(e){return e.unitName===s&&e.timestamp===l[t]})))&&"selected"),"data-unit-name":s,"data-timestamp":l[t],value:null===n||void 0===n||null===(o=n[l[t]])||void 0===o?void 0:o.value,children:null===n||void 0===n||null===(d=n[l[t]])||void 0===d?void 0:d.value},"".concat(s,"-").concat(l[t])))},d=0;d<l.length;d++)o(d);return i}))]})};var K,P,X=function(){return Object(p.c)((function(t){return t.units})).map((function(t){return Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)("div",{children:t.name},t.name),Object(a.jsx)("div",{children:t.location},t.location)]},t.name)}))},q=m.a.div(K||(K=Object(f.a)(["\n\tdisplay: grid;\n\twidth: 100%;\n\tgrid-template-columns: 200px 35px 1fr;\n\tgrid-template-rows: 100px repeat(10, 35px);\n\tbackground-color: #282828;\n\toverflow: scroll;\n\n\t& > div {\n\t\tborder: 0.5px solid white;\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\tbox-sizing: border-box;\n\t}\n"]))),Q=m.a.div(P||(P=Object(f.a)(["\n\tborder: 0.5px solid white;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tbox-sizing: border-box;\n\tfont-size: 2.5rem;\n\t","\n"])),(function(t){return t.location&&"writing-mode: vertical-lr;\n        font-size: 1.3em;"}));var Y=function(){return Object(a.jsxs)(q,{children:[Object(a.jsx)(Q,{children:"Name"}),Object(a.jsx)(Q,{location:!0,children:"Location"}),Object(a.jsx)(J,{}),Object(a.jsx)(X,{})]})},Z=Object(g.b)({name:"config",initialState:{shiftStart:"2200",shiftEnd:"0700",area:null},reducers:{setShift:function(t,e){t.shiftStart=e.payload.shiftStart||t.shiftStart,t.shiftEnd=e.payload.shiftEnd||t.shiftEnd},setArea:function(t,e){t.area=e.payload}}}),_=Z.actions,tt=(_.setShift,_.setArea,Z.reducer),et=Object(g.a)({reducer:{config:tt,grid:S,units:T}});var nt=function(){return Object(a.jsxs)(p.a,{store:et,children:[Object(a.jsx)(u,{}),Object(a.jsx)("main",{children:Object(a.jsx)(Y,{})})]})},it=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,33)).then((function(e){var n=e.getCLS,i=e.getFID,r=e.getFCP,c=e.getLCP,o=e.getTTFB;n(t),i(t),r(t),c(t),o(t)}))};o.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(nt,{})}),document.getElementById("root")),it()}},[[32,1,2]]]);
//# sourceMappingURL=main.575cb223.chunk.js.map